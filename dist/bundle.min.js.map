{"version":3,"file":"bundle.min.js","sources":["../src/structs.ts"],"sourcesContent":["interface Coordinate {\n  [index: number]: number;\n}\nexport const makeCellGroupId = (type: string, index: number) : string => `${type}:${index}`;\nexport const Matrix = (size: number) : Array<Array<number>> => Array(size).fill(0).map(() => Array(size).fill(null));\nclass CellGroup {\n  identifier: string;\n  values: Set<number>;\n  coords: Array<Coordinate>\n  constructor(identifier: string, coords: Array<Coordinate>) {\n    return ({\n      identifier,\n      coords,\n      values: new Set(Array(coords.length).fill(0).map((v, i) => i)),\n    });\n  }\n}\nexport default class Sudoku {\n  blockSize: number;\n  maxValue: number;\n  totalSize: number;\n  blocks: Array<CellGroup>;\n  rows: Array<CellGroup>;\n  cols: Array<CellGroup>;\n  changes: Array<string>;\n  matrix: Array<Array<number>>;\n\n  constructor(blockSize: number) {\n    this.blockSize = blockSize;\n    this.maxValue = blockSize ** 2;\n    this.totalSize = this.maxValue ** 2;\n    this.changes = [];\n    this.blocks = Array(this.maxValue).fill(0).map((v, blockIdx) => {\n      const id = makeCellGroupId('block', blockIdx);\n      this.changes.push(id);\n      const block = Array(this.maxValue).fill(0).map((_, cellIdx) => [cellIdx % blockSize, 0 | cellIdx / blockSize]);\n      return new CellGroup(id, block);\n    });\n    this.rows = Array(this.maxValue).fill(0).map((v, y) => {\n      const id = makeCellGroupId('row', y);\n      this.changes.push(id);\n      const row = Array(this.maxValue).fill(0).map((_, x) => [x, y]);\n      return new CellGroup(id, row);\n    });\n    this.cols = Array(this.maxValue).fill(0).map((v, x) => {\n      const id = makeCellGroupId('col', x);\n      this.changes.push(id);\n      const col = Array(this.maxValue).fill(0).map((_, y) => [x, y]);\n      return new CellGroup(id, col);\n    });\n    this.matrix = Matrix(this.totalSize);\n  }\n}\n"],"names":[],"mappings":"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"}